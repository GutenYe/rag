#!/usr/bin/env ruby
file = File.symlink?(__FILE__) ? File.readlink(__FILE__) : __FILE__
ENV["BUNDLE_GEMFILE"] = File.join(File.dirname(File.absolute_path(file)), '../Gemfile')

require_relative "../lib/rag"

# default plugin
require_relative "../lib/rag/new"
require_relative "../lib/rag/gem"
require_relative "../lib/rag/doc"
require_relative "../lib/rag/test"

# load Ragfile
if Pa.exists? "Ragfile"
	load "Ragfile"
end

# load tasks/*.rag
Pa.glob 'tasks/*.rag' do |pa|
	load pa.path
end

Rag.start
